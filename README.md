# Apache-Security-Hardening
A step-by-step guide to hardening Apache web server on Linux.

## Audience
This is designed for linux system engineers, Apache admin, Middleware Administrator, Application Support, System Analyst, or anyone working or eager to learn Hardening & Security guidelines.
Fair knowledge of Apache Web Server & UNIX command is mandatory.

This Security hardening is for Red Hat/CentOS-based Systems or any system using httpd

You require some tool to examine HTTP Headers for some of the implementation verification. There are two ways to do this.

1. Use browser inbuilt developer tools to inspect the HTTP headers. Usually, it’s under Network tab
2. Use online HTTP response header checker tool

## Table of content 
## Table of Contents

- [Checking the Apache version](#checking-the-apache-version)
- [Remove Server Version Banner](#remove-server-version-banner)
- [Security Hardening Directives](#security-hardening-directives)
- [HTTP Request Methods](#http-request-methods)
- [CORS Headers](#cors-headers)
- [Configuring TLS for Apache](#configuring-tls-for-apache)
- [Configuring Mod Security](#configuring-mod-security)
- [Disable Unnecessary Apache Modules](#disable-unnecessary-apache-modules)
- [Performance and Request Controls](#performance-and-request-controls)
- [Enable Apache Logging](#enable-apache-logging)


## checking the Apache version
On Red Hat-based systems, which use yum or dnf, run the following commands to check the running version of apache
`httpd -v`

## Remove Server Version Banner
Here you don’t want to expose what web server version you are using. Exposing version means you are helping hacker to speedy the reconnaissance 
The default configuration will expose Apache Version and OS type. To change that go to the web httpd config folder /etc/httpd/conf
•	Go to /etc/httpd/conf folder
•	Modify httpd.conf file 
•	Add the following directive and save the httpd.conf

ServerTokens Prod
ServerSignature Off

•	Restart apache by runing the following command `systemctl restart httpd`

ServerSignature will remove the version information from the page generated by Apache. ServerTokens will change Header to production only, i.e., Apache

## Security Hardening Directives
Restricting access to sensitive directories is a critical security measure to prevent unauthorised users from viewing or interacting with files that should not be publicly accessible

Denying Access to the Root Directory
To apply a default-deny policy to all directories except explicitly allowed locations
•	Go to /etc/httpd/conf folder and edit the httpd.conf file and add
`<Directory />
    Require all denied
</Directory>`

Blocking Access to Sensitive.

Certain files, such as .htaccess, .env, or database configuration files, should never be accessible via a web request. To prevent access, use the <Files>

`<Files ~ "^\.(htaccess|htpasswd|env|git|svn)">
    Require all denied
</Files>`

After making configuration changes, restart Apache to apply them by using the command `systemctl restart httpd`

Etag
It allows remote attackers to obtain sensitive information like inode number, multipart MIME boundary, and child process through Etag header.
To prevent this vulnerability, implement it as below. This is required to 
•	Go to /etc/httpd/conf folder and edit the httpd.conf file and add the following directive and save the httpd.conf

FileETag None

•	Restart apache `systemctl restart httpd`




